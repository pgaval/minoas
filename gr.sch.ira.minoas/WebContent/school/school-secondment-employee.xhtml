<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a4j="http://richfaces.org/a4j">

<ui:component>
	<h:form>

		<rich:dataTable id="secondmentEmploymentsList" var="_secondment"
			value="#{schoolSecondmentsListQuery.resultList}" sortMode="multi"
			border="0" rows="20"
			onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
			onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
			width="100%">
			<f:facet name="header">
				<h:outputText
					value="Λιστά Αποσπασμένων Εκπαιδευτικών στην Μονάδα ..." />
			</f:facet>
			<rich:column>
				<f:facet name="header"></f:facet>
			</rich:column>
			<rich:column>
				<f:facet name="header">ΑΜ</f:facet>
				<h:outputText
					value="#{employeeUtil.getRegistryID(_secondment.employee)}" />
			</rich:column>
			<rich:column>
				<f:facet name="header">Επώνυμο</f:facet>
				<h:outputText value="#{_secondment.employee.lastName}" />
			</rich:column>
			<rich:column>
				<f:facet name="header">Όνομα</f:facet>
				<h:outputText value="#{_secondment.employee.firstName}" />
			</rich:column>

			<rich:column>
				<f:facet name="header">Πατρώνυμο</f:facet>
				<h:outputText value="#{_secondment.employee.fatherName}" />
			</rich:column>
			<rich:column>
				<f:facet name="header">Ειδικ.</f:facet>
				<h:outputText id="specializationText"
					value="#{_secondment.employee.lastSpecialization.id}">
					<rich:toolTip for="specializationText"
						value="#{_secondment.employee.lastSpecialization.title}" />
				</h:outputText>
			</rich:column>
			<rich:column sortyBy="#{_secondment.finalWorkingHours}">
				<f:facet name="header">Ωράριο</f:facet>
				<h:outputText id="empoymentHours"
					value="#{_secondment.mandatoryWorkingHours} / #{_secondment.finalWorkingHours}">
					<rich:toolTip for="empoymentHours"
						value="Υποχρεωτικό ωράριο #{_secondment.mandatoryWorkingHours}" />
				</h:outputText>
			</rich:column>
			<rich:column>
				<f:facet name="header">
					<h:outputText value="Σημειώσεις" />
				</f:facet>
				<h:panelGroup>
					<rich:effect event="onmouseout" type="Opacity"
						params="duration:0.8,from:1.0,to:0.3" />
					<h:outputText value="Απόσπαση απο " />
					<h:outputText styleClass="fieldValueText"
						value="#{_secondment.sourceUnit.title}" />
					<h:outputText value=" από τις " />
					<h:outputText styleClass="fieldValueText"
						value="#{_secondment.established}">
						<s:convertDateTime type="date" pattern="dd-MM-yyyy" />
					</h:outputText>
					<h:outputText value=" εως και " />
					<h:outputText styleClass="fieldValueText"
						value="#{_secondment.dueTo}">
						<s:convertDateTime type="date" pattern="dd-MM-yyyy" />
					</h:outputText>
					
				</h:panelGroup>
			</rich:column>

			<rich:column>
				<f:facet name="header">
					<h:outputText value="Ενέργεια" />
				</f:facet>
				<rich:toolBar itemSeparator="line">
					<s:link value="Προβολή" view="/employee/employee.xhtml">
						<f:param name="employeeID" value="#{_secondment.employee.id}" />
						<f:param name="from" value="/school/school" />
					</s:link>
				</rich:toolBar>
			</rich:column>

			<f:facet name="footer">
				<rich:datascroller align="right" for="regularEmploymentsList"
					maxPages="20" id="sc1" />
			</f:facet>

		</rich:dataTable>
	</h:form>
</ui:component>
</html>