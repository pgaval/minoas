<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<ui:composition template="/layout/simple-beauty-template.xhtml">
	<ui:define name="body">
		<h:form id="establishmentLicenseList">
			<rich:panel>
				<f:facet name="header">
			<h:outputText value="Λίστα Αδείων Ιδρύσεως" />
		</f:facet>
			<h:panelGrid columns="1">
				<h:panelGroup>
				<h:outputText
							value="Χρησιμοποιήστε, αν θέλετε, τα παρακάτω πεδία για να φιλτράρετε την λίστα των κατόχων." />
				</h:panelGroup>
			<h:panelGrid columns="3">
					<h:inputText value="#{exampleEstablishmentLicense.owner.lastName}" />
			</h:panelGrid>
			<s:div styleClass="actionButtons">
						<h:commandButton id="searchButton" value="Αναζήτηση"
							actionListener="establishmentLicensesList.first" />
						<h:commandButton id="resetButton" value="Καθαρισμός" action="reset" />
			</s:div>
			</h:panelGrid>
				<h:panelGroup>
					<rich:spacer height="5"/>
					<rich:separator height="2" lineType="dashed"/>
					<rich:spacer height="5"/>
				</h:panelGroup>
				<rich:dataTable var="_license"
					value="#{establishmentLicensesList.resultList}"
					rendered="#{not empty establishmentLicensesList.resultList}">
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column colspan="5">
								<h:outputText value="Γενικά Στοιχεία Άδειας ..." />
							</rich:column>
							<rich:column colspan="5">
								<h:outputText value="Στοιχεία Κατόχου ..." />
							</rich:column>

						</rich:columnGroup>
					</f:facet>
					<rich:column breakBefore="true">
						<f:facet name="header">
					Αριθ. Αίτησης
				</f:facet>
						<h:outputText value="#{_license.requestProtocol}/" />
						<h:outputText value="#{_license.requestDate}">
							<s:convertDateTime pattern="dd-MM-yyyy" />
						</h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">
					Τύπος
				</f:facet>
				<h:outputText value="#{messages[_license.natureType.key]}" />
			</rich:column>
					<rich:column>
						<f:facet name="header">
					Απ. ΠΥΣΔΕ
				</f:facet>
						<s:div rendered="#{_license.requestJudgmentNumber != null}">
							<h:outputText value="#{_license.requestJudgmentNumber}/" />
							<h:outputText value="#{_license.requestJudgmentDate}">
								<s:convertDateTime pattern="dd-MM-yyyy" />
							</h:outputText>
						</s:div>
					</rich:column>
					<rich:column>
						<f:facet name="header">
					Έδρα
				</f:facet>
						<h:outputText value="#{_license.establishmentLocation.title}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
					Κατάσταση
				</f:facet>
						<h:outputText value="#{messages[_license.statusType.key]}" />
					</rich:column>

					<rich:column>
						<f:facet name="header">
					Επώνυμο
				</f:facet>
				#{_license.owner.lastName}
			</rich:column>
					<rich:column>
						<f:facet name="header">
					Όνομα
				</f:facet>
				#{_license.owner.firstName}
			</rich:column>
					<rich:column>
						<f:facet name="header">
					Όνομα Πατρός
				</f:facet>
				#{_license.owner.fatherName}
			</rich:column>
					<rich:column>
						<f:facet name="header">
					Ημ/νία Γεν.
				</f:facet>
						<h:outputText value="#{_license.owner.dateOfBirth}">
							<s:convertDateTime pattern="dd-MM-yyyy" />
						</h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">
					Αριθμός Α/Τ
				</f:facet>
				#{_license.owner.idNumber}
			</rich:column>
					<!--  
			<h:column>
				<f:facet name="header">
					Ενέργεια
				</f:facet>
				<s:link view="#{empty from ? '/preparatory/preparatoryOwner.xhtml' : from}.xhtml}" value="#{empty from ? 'Προβολή' : 'Επιλογή'}" >
					<f:param name="preparatoryOwnerID" value="#{_owner.id}"/>
				</s:link>
			</h:column>
			-->
				</rich:dataTable>


			</rich:panel>
		</h:form>



	</ui:define>
</ui:composition>
</html>