<?xml version="1.0" encoding="UTF-8"?>

<pageflow-definition xmlns="http://jboss.com/products/seam/pageflow"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://jboss.com/products/seam/pageflow http://jboss.com/products/seam/pageflow-2.0.xsd" name="school-search">

  <start-state>
    <transition to="schoolSearchPage" name="begin" />
  </start-state>
  
  <page name="schoolSearchPage" view-id="/schools.xhtml">
  		<redirect/>
       <transition name="school-selected" to="schoolPage"/>
  </page>
  
  <page view-id="/school.xhtml" name="schoolPage">
  	<redirect/>
    <transition to="schoolSearchPage" name="selectSchool" />
    <transition name="end" to="home"/>
    <transition name="selectRegularEmployment" to="employeePage">
        <action expression="#{regularEmploymentSearching.selectEmployment()}" />
    </transition>
    <transition name="selectDeputyEmployment" to="employeePage">
        <action expression="#{deputyEmploymentSearching.selectEmployment()}" />
    </transition>
    
    
  </page>
  
  <page view-id="/employee.xhtml" name="employeePage">
    <redirect/>
    <transition name="back" to="schoolPage"/>
    <action expression="#{employeeRecord.search()}" />
    
  </page>
  
  <page view-id="/home.xhtml" name="home">
    <end-conversation/>
    <redirect />
  </page>
  
  
  
</pageflow-definition>