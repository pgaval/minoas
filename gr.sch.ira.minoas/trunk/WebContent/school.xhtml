<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:rich="http://richfaces.org/rich">

	<ui:composition template="#{theme.template}">
		<ui:define name="body">
		<rich:panel headerClass="pagetitle" bodyClass="post">
			<f:facet name="header">
				<h:outputText
					value="Διαχείρηση Σχολικής Μονάδας" />
			</f:facet>
			<rich:panel>
			<f:facet name="header">
				<h:outputText
					value="Καρτέλα Σχολικής Μονάδας #{selectedSchool.title}" />
			</f:facet>
				<h:panelGrid columns="2">
					<h:panelGroup>
						<h:panelGrid columns="2">
							<h:outputLabel value="Κωδικός" for="schoolCode" />
							<h:inputText id="schoolCode"
								value="#{selectedSchool.ministryCode}" readonly="true" />

							<h:outputLabel value="Τίτλος" for="schoolTitle" />
							<h:inputText id="schoolTitle" value="#{selectedSchool.title}"
								readonly="true" />

							<h:outputLabel value="Περιοχή" for="schoolRegion" />
							<h:inputText id="schoolRegion"
								value="#{selectedSchool.regionCode}' ΗΡΑΚΛΕΙΟΥ" readonly="true" />

							<h:outputLabel value="Μόρια" for="schoolMoria" />
							<h:inputText id="schoolMoria" value="#{selectedSchool.points}'"
								readonly="true" />
						</h:panelGrid>
					</h:panelGroup>
					<h:panelGroup>
						<h:panelGrid columns="4">
							<h:outputLabel value="Διεύθυνση" for="schoolAddress" />
							<h:panelGroup>
								<h:inputText id="schoolAddress"
									value="#{selectedSchool.address.address}" readonly="true" />
								<h:inputText value="#{selectedSchool.address.addressAdditional}"
									readonly="true" />
							</h:panelGroup>
							<h:outputLabel value="Αριθμός" for="schoolAddressNumber" />
							<h:inputText id="schoolAddressNumber"
								value="#{selectedSchool.address.number}" size="4"
								readonly="true" />
							<h:outputLabel value="ΤΚ" for="schoolAddressPostalCode" />
							<h:inputText id="schoolAddressPostalCode"
								value="#{selectedSchool.address.postCode}" size="5"
								readonly="true" />
							<h:outputLabel value="Πόλη" for="schoolAddressCity" />
							<h:inputText id="schoolAddressPostalCity"
								value="#{selectedSchool.address.city}" size="14" readonly="true" />
							
							<h:panelGroup rendered="#{selectedSchool.address.latitude ne null}">
								<h:commandButton  value="Χάρτης ..." onclick="javascript:Richfaces.showModalPanel('gmapPanel')" />
							</h:panelGroup>
						</h:panelGrid>
					</h:panelGroup>
				</h:panelGrid>


				<rich:tabPanel mode="Ajax">
				<rich:tab>
					<f:facet name="label">
						<h:outputText value="Προσωπικό" />
					</f:facet>
					<ui:include src="/components/school/schoolEmployeesList.xhtml" /> 
				</rich:tab>
				<rich:tab>
					<f:facet name="label">
						<h:outputText value="Διδακτικές Ώρες" />
					</f:facet>
					
					 <ui:include src="/components/school/schoolTeachingRequirementsList.xhtml" />
				</rich:tab>
			</rich:tabPanel>
		</rich:panel>
		</rich:panel>

	<h:form>
			<rich:modalPanel id="gmapPanel" moveable="true" autosized="true">
				<f:facet name="header">
					<h:outputText value="Χάρτης Σχολικής Μονάδας" />
				</f:facet>
				<f:facet name="controls">
					<a href="javascript:Richfaces.hideModalPanel('gmapPanel')">[X]</a>
				</f:facet>

				<rich:panel>
					<h:panelGrid columns="1">
					<f:view contentType="text/html">
						<rich:gmap lat="#{selectedSchool.address.latitude}"
							lng="#{selectedSchool.address.longitude}" mapType="G_NORMAL_MAP">
						</rich:gmap>
					</f:view>
					<h:commandButton value="" onclick="javascript:Richfaces.hideModalPanel('gmapPanel')"/>
					</h:panelGrid>
				</rich:panel>
			</rich:modalPanel>
		</h:form>
	</ui:define>
	
</ui:composition>

</html>