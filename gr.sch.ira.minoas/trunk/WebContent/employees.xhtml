<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<ui:composition template="#{theme.template}">
	<ui:define name="body">
		<rich:panel headerClass="pagetitle" bodyClass="post">
			<f:facet name="header">
				<h:outputText value="Αναζήτηση Εκπαιδευτικού Προσωπικού" />
			</f:facet>
			<h:panelGrid columns="1" width="100%">
				<h:panelGrid columns="1" width="100%">
				<rich:simpleTogglePanel label="Φόρμα Αναζήτησης Εκπαιδευτικού Προσωπικού" switchType="Ajax">
					<h:panelGroup>
						<h:form id="searchForm">
							<h:panelGrid columns="4">
									<s:decorate 
										template="/layout/doubleLineEdit.xhtml">
										<ui:define name="label">
											<h:outputText value="Επώνυμο" />
										</ui:define>
										<h:inputText id="employeeLastNameFilter" value="#{employeeSearch.employeeLastNameFilter}"
											required="true" size="15" maxlength="30">
											<a4j:support event="onblur" reRender="employeeLastNameFilter"
												bypassUpdates="true" />
											<f:validateLength minimum="3" maximum="30" />
										</h:inputText>
									</s:decorate>
									<s:decorate template="/layout/doubleLineEdit.xhtml">
										<ui:define name="label">
											<h:outputText value="Όνομα" />
										</ui:define>
										<h:inputText value="#{employeeSearch.employeeFirstNameFilter}"
											required="false" size="7" maxlength="20" />
									</s:decorate>
									<s:decorate template="/layout/doubleLineEdit.xhtml">
										<ui:define name="label">
											<h:outputText value="Πατρώνυμο" />
										</ui:define>
										<h:inputText
											value="#{employeeSearch.employeeFatherNameFilter}"
											required="false" size="7"  maxlength="20" />
									</s:decorate>
									<s:decorate template="/layout/doubleLineEdit.xhtml">
										<ui:define name="label">
											<h:outputText value="Προσωπικό εν ενεργεία" />
										</ui:define>
										<h:selectBooleanCheckbox value="#{employeeSearch.employeeEmploymentFilter}" />
									</s:decorate>
									<h:commandButton id="searchButton" action="search"
									value="Αναζήτηση" />
							</h:panelGrid>
						</h:form>
					</h:panelGroup>
					<h:panelGroup>
						
						<h:form id="searchByVATNumberForm">
							<h:outputLabel value="ΑΦΜ Εκπαιδευτικού : " for="afmFilter" />
							<h:inputText id="afmFilter"
								value="#{employeeSearch.employeeVATNumberFilter}" />
							<h:commandButton id="searchByVATNumberButton"
								action="searchByVATNumber" value="Αναζήτηση" />
						</h:form>
					</h:panelGroup>
					<h:form id="searchByRegistryIDForm">
						<h:outputLabel value="Α.Μ Εκπαιδευτικού : " for="codeFilter" />
						<h:inputText id="codeFilter"
							value="#{employeeSearch.employeeRegistryIDFilter}" />
						<h:commandButton action="searchByRegistryID" value="Αναζήτηση" />
					</h:form>
				</rich:simpleTogglePanel>
				</h:panelGrid>
				<h:panelGroup>
				<h:form>
					<rich:dataTable id="employeeList" var="employee"
						value="#{employeesSearchResult}" rows="15" border="0"
						onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
						onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						width="100%">
						<f:facet name="header">
							<h:outputLabel value="Λίστα Σχολικών Μονάδων" />
						</f:facet>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="ΑΦΜ" />
							</f:facet>
							<h:outputText value="#{employee.vatNumber}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Α.Μ." />
							</f:facet>
							<h:outputText value="#{employee}"
								converter="employeeRegistryIDConverter" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Επώνυμο" />
							</f:facet>
							<h:outputText value="#{employee.lastName}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Όνομα" />
							</f:facet>
							<h:outputText value="#{employee.firstName}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Πατρώνυμο" />
							</f:facet>
							<h:outputText value="#{employee.fatherName}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Ειδικότητα" />
							</f:facet>
							<h:outputText id="specializationText"
								value="#{employee.currentEmployment.specialization.id}">
								<rich:toolTip for="specializationText"
									value="#{employee.currentEmployment.specialization.title}" />
							</h:outputText>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Έτος Γέννησης" />
							</f:facet>
							<h:outputText value="#{employee.dateOfBirth}">
								<s:convertDateTime type="date" pattern="yyyy" />
							</h:outputText>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Τύπος" />
							</f:facet>
							<h:outputText value="#{employee}"
								converter="employeeTypeConverter" />
						</rich:column>
						<f:facet name="footer">
							<rich:datascroller align="left" for="employeeList" maxPages="20"
								id="sc1" />
						</f:facet>
					</rich:dataTable>
				</h:form>
				</h:panelGroup>
			</h:panelGrid>

		</rich:panel>
		
		
		
	</ui:define>
</ui:composition>

</html>