<?xml version="1.0" encoding="UTF-8"?>
<pageflow-definition
    xmlns="http://jboss.com/products/seam/pageflow"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://jboss.com/products/seam/pageflow http://jboss.com/products/seam/pageflow-2.0.xsd"
    name="new-school-year">
    
    <start-page view-id="/schoolYears.xhtml" name="home">
        <transition name="begin" to="basic-data" />
    </start-page>
    
    <page view-id="/editSchoolYear.xhtml" name="basic-data">  
    	<redirect />
        <transition name="cancel" to="end">
            <action name="cancel" expression="#{schoolYearAdmin.cancelSchoolYear}" />
        </transition>
        <transition name="success" to="school-year-updated" />
        <transition name="failure" to="basic-data" />
    </page>
    
    <page view-id="/schoolYearUpdated.xhtml" name="school-year-updated">
    	<redirect />
    	<transition name="start" to="basic-data">
    		<action expression="#{schoolYearAdmin.newSchoolYear()}" />
    	</transition>
        <transition name="end" to="end" />
    </page>
    
    <page view-id="/schoolYears.xhtml" name="end">
        <end-conversation/>
        <redirect />
    </page>
    
</pageflow-definition>